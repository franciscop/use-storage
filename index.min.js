import{useState as t,useEffect as r}from"react";const e={};export default function(o){const[a,n]=t((c=localStorage.getItem(o))?JSON.parse(c):null);var c;return r(()=>(((t,r)=>{e[t]=e[t]||[],e[t].push(r)})(o,n),()=>((t,r)=>{e[t]=e[t]||[],e[t]=e[t].filter(t=>t!==r)})(o,n)),[o]),[a,t=>{var r;"function"==typeof t&&(t=t(a)),localStorage.setItem(o,(r=t,JSON.stringify(r)));e[o].forEach(r=>r(t))}]}
